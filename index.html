<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>åœ“åœ“çš„å°å°ä¼‘æ†© - Maru's Shisha</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="å°åœ“ç…™è­œ">
    <link rel="apple-touch-icon" href="https://img.icons8.com/color/512/sakura.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --washi: #fefcf9; --chiikawa: #ffdee9; --hachiware: #caf0f8;
            --usagi: #fef9c3; --ink: #5a5552; --accent: #e9c46a; 
        }
        body { 
            background-color: var(--washi); 
            background-image: radial-gradient(#f2ede4 1px, transparent 1px); 
            background-size: 24px 24px; 
            color: var(--ink); 
            font-family: "Noto Serif TC", serif; 
            margin: 0; padding: 10px; 
            display: flex; flex-direction: column; align-items: center;
            -webkit-tap-highlight-color: transparent;
        }
        
        header { text-align: center; margin: 35px 0; }
        .sakura { color: #f9a8d4; font-size: 1.2rem; }
        h1 { font-weight: 500; font-size: 1.8rem; margin: 0; color: #444; }
        .eng-title { font-size: 0.7rem; letter-spacing: 0.3em; color: #bbb; text-transform: uppercase; margin-top: 8px; font-weight: bold; }
        .slogan { font-size: 0.85rem; color: #999; margin-top: 20px; padding: 0 20px; line-height: 1.6; }

        .nav-tabs { display: flex; gap: 12px; margin-bottom: 30px; }
        .tab-btn { background: #fff; border: 1.5px solid #eee; padding: 8px 20px; border-radius: 25px; cursor: pointer; color: #999; font-family: inherit; font-size: 0.95rem; transition: 0.3s; }
        .tab-btn.active { background: var(--usagi); color: var(--ink); border-color: var(--accent); font-weight: bold; box-shadow: 0 4px 10px rgba(233,196,106,0.2); }

        #inventory-list { width: 100%; max-width: 600px; display: none; padding-bottom: 40px; }
        .inv-section { background: white; padding: 20px; border-radius: 20px; border: 1px solid #f0f0f0; margin-bottom: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.02); }
        .inv-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; }
        .inv-item { background: var(--washi); padding: 8px; text-align: center; border-radius: 10px; font-size: 0.8rem; color: #777; }

        #menu-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; width: 100%; max-width: 1100px; padding-bottom: 50px; }
        .card { background: #fff; border-radius: 15px; border: 1px solid #f0f0f0; cursor: pointer; transition: 0.4s; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.03); }
        .card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.08); }

        .card-art { width: 100%; height: 140px; position: relative; display: flex; align-items: center; justify-content: center; }
        .watercolor { position: absolute; width: 100%; height: 100%; filter: blur(25px); opacity: 0.4; }
        .illustration { position: relative; font-size: 3rem; filter: sepia(0.2) drop-shadow(2px 2px 5px rgba(0,0,0,0.1)); z-index: 2; }
        .maru-seal { position: absolute; bottom: 10px; right: 10px; width: 30px; height: 30px; border: 1px solid var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--accent); font-size: 0.7rem; font-weight: bold; background: rgba(255,255,255,0.8); z-index: 3; }

        .card-content { padding: 15px 20px 20px; }
        .jp-name { font-size: 1.1rem; color: #444; margin: 0; font-weight: 500; }
        .en-name { font-size: 0.6rem; color: #ccc; letter-spacing: 1.5px; margin-bottom: 8px; display: block; }
        .stat-table { width: 100%; font-size: 0.75rem; border-top: 1px dashed #f5f5f5; margin-top: 10px; padding-top: 10px; color: #999; }
        .dots { color: var(--accent); letter-spacing: 1.5px; }

        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.98); z-index: 2000; justify-content: center; align-items: center; }
        .modal-content { background: #fff; padding: 35px; max-width: 400px; width: 85%; border-radius: 25px; border: 2.5px solid var(--accent); box-shadow: 0 25px 60px rgba(0,0,0,0.1); }
        .recipe-box { background: #fdfaf5; padding: 18px; border-radius: 15px; font-size: 0.95rem; color: #5a5552; line-height: 1.8; margin: 20px 0; border: 1px solid #f9f3e9; }
        .order-btn { background: var(--chiikawa); color: #d63384; border: none; padding: 18px; width: 100%; border-radius: 50px; font-weight: bold; cursor: pointer; font-family: inherit; font-size: 1rem; }

        .active-section { display: block !important; }
    </style>
</head>
<body>

    <header>
        <h1><span class="sakura">ğŸŒ¸</span>åœ“åœ“çš„å°å°ä¼‘æ†©<span class="sakura">ğŸŒ¸</span></h1>
        <div class="eng-title">Maru's Tiny Sanctuary</div>
        <p class="slogan">çµ¦è¾›è‹¦äº†ä¸€å¤©çš„ä½ ï¼Œåœ“åœ“çš„å¹¸ç¦ã€‚</p>
    </header>

    <div class="nav-tabs">
        <button class="tab-btn active" onclick="switchTab('menu')">è·äººç…™è­œ</button>
        <button class="tab-btn" onclick="switchTab('inventory')">è¸è‰åœ–é‘‘</button>
    </div>

    <div id="inventory-list">
        <div class="inv-section">
            <div style="color:#f0a1bf; font-weight:bold; margin-bottom:10px;">âœ¿ é»‘è‰ Dark Leaf</div>
            <div class="inv-grid" id="inv-dark"></div>
        </div>
        <div class="inv-section">
            <div style="color:#90e0ef; font-weight:bold; margin-bottom:10px;">âœ¿ æœå‡ / ç´…è‰</div>
            <div class="inv-grid" id="inv-jelly"></div>
        </div>
    </div>

    <div id="menu-grid" class="active-section"></div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <h2 id="m-title" style="margin:0; text-align:center; color:#444;"></h2>
            <div class="recipe-box" id="m-recipe"></div>
            <p id="m-tech" style="font-size: 0.85rem; color: #999; text-align: center; padding:0 10px;"></p>
            <button class="order-btn" onclick="confirmOrder()">ç¢ºèªæ³¨æ–‡ (ç™¼é€è¨‚å–®)</button>
            <p style="text-align:center; margin-top:20px; color:#ccc; cursor:pointer; font-size:0.85rem;" onclick="closeModal()">âœ• è¿”å›ç…™è­œ</p>
        </div>
    </div>

    <script>
        const darks = ["èŒ‰è‰èŠ±", "ç´…èŒ¶", "é‡è‘‰", "ç´é…’å°é»ƒç“œ", "ç¶œåˆæ°´æœ", "æª¸æª¬èŠå§†", "æª¸æª¬ç³–", "è²»ç´„æœæª¸æª¬æ°´"];
        const jellies = ["å¸Œè‡˜å„ªæ ¼", "ç”œè–¯", "å’–å•¡", "æ¡‚èŠ±", "ç´é…’", "ç™¾é¦™æœçŸ³æ¦´", "Paan Ras"];

        const menu = [
            { zh: "ç¿ ç‰åˆæˆ€", en: "Jade First Love", icon: "ğŸ‹", color: "#d8f3dc", stats: { æ¿ƒ: 2, ç”œ: 4, é…¸: 5, çˆ½: 5 }, recipe: "è²»ç´„æœæª¸æª¬æ°´ 40% + æª¸æª¬èŠå§† 30% + ç™¾é¦™æœçŸ³æ¦´ 30%", tech: "ä¸‰å±¤é…¸åº¦çš„éé€²ï¼Œåƒåˆæˆ€ä¸€æ¨£ä»¤äººå¿ƒè·³åŠ é€Ÿã€‚" },
            { zh: "å°åœ“é›²ç…™", en: "Maru's Fluffy", icon: "â˜ï¸", color: "#ffdee9", stats: { æ¿ƒ: 3, ç”œ: 5, é…¸: 1, çˆ½: 3 }, recipe: "å¸Œè‡˜å„ªæ ¼ 40% + ç”œè–¯ 30% + ç¶œåˆæ°´æœ 30%", tech: "æ¥µåšç…™éœ§é…æ–¹ã€‚å„ªæ ¼èˆ‡ç”œè–¯äº¤ç¹”å‡ºåšå¯¦å¦‚é›²æœµçš„ç…™éœ§ã€‚" },
            { zh: "çƒè–©å¥‡ä¹‹å…‰", en: "Usagi Light", icon: "ğŸŒ¼", color: "#fef9c3", stats: { æ¿ƒ: 2, ç”œ: 3, é…¸: 1, çˆ½: 4 }, recipe: "æ¡‚èŠ±æœå‡ 50% + èŒ‰è‰èŠ± 30% + ç´…èŒ¶ 20%", tech: "ç´”æ·¨çš„æ¡‚èŠ±é¦™ä¼´éš¨æ¸…çˆ½èŒ¶é¦™ï¼Œæ˜¯å°åœ“çš„ç§è—é…æ–¹ã€‚" },
            { zh: "è«æ–¯ç§‘ç´³å£«", en: "Moscow Gent", icon: "ğŸ¸", color: "#bde0fe", stats: { æ¿ƒ: 4, ç”œ: 2, é…¸: 2, çˆ½: 4 }, recipe: "ç´é…’å°é»ƒç“œ 50% + ç´é…’æœå‡ 30% + æª¸æª¬èŠå§† 20%", tech: "å±¬æ–¼å¤§äººçš„æ·±é‚ƒé…’æ„Ÿï¼Œæ¸…çˆ½ä¸”æ“Šå–‰æ„Ÿé©ä¸­ã€‚" },
            { zh: "é»‘æ£®æ—æ‹¿éµ", en: "Dark Forest", icon: "â˜•", color: "#d5bdaf", stats: { æ¿ƒ: 3, ç”œ: 5, é…¸: 1, çˆ½: 1 }, recipe: "å’–å•¡ 40% + ç”œè–¯ 40% + å¸Œè‡˜å„ªæ ¼ 20%", tech: "å®Œå…¨æ²’æœ‰æ“Šå–‰æ„Ÿçš„ç”œé»ç³»ï¼Œåƒåœ¨é›²æœµä¸Šå–æ‹¿éµã€‚" },
            { zh: "é‡è‘‰ä¹‹æ£®", en: "Deep Fir Forest", icon: "ğŸŒ²", color: "#ccd5ae", stats: { æ¿ƒ: 5, ç”œ: 1, é…¸: 2, çˆ½: 4 }, recipe: "é‡è‘‰ 50% + ç´é…’å°é»ƒç“œ 30% + ç´…èŒ¶ 20%", tech: "å¼·çƒˆçš„æœ¨è³ªæ£®æ—æ°£æ¯ï¼Œé©åˆéœ€è¦æ·±åº¦å†¥æƒ³çš„æ·±å¤œã€‚" },
            { zh: "ç¥ç€ææ‹‰ç±³è˜‡", en: "Amber Dessert", icon: "ğŸ°", color: "#fcd5ce", stats: { æ¿ƒ: 3, ç”œ: 4, é…¸: 2, çˆ½: 2 }, recipe: "å’–å•¡ 30% + ç”œè–¯ 30% + æª¸æª¬ç³– 40%", tech: "æª¸æª¬ç³–è½‰åŒ–çš„ç„¦ç³–å±¤æ¬¡ï¼Œèˆ‡å’–å•¡è±†é¦™æ°£å®Œç¾çµåˆã€‚" },
            { zh: "æœˆä¸‹ç¥å»Ÿ", en: "Zen Temple", icon: "ğŸŒ™", color: "#e2e2e2", stats: { æ¿ƒ: 3, ç”œ: 2, é…¸: 1, çˆ½: 4 }, recipe: "Paan Ras 40% + æ¡‚èŠ± 40% + èŒ‰è‰èŠ± 20%", tech: "åˆ©ç”¨èŠ±é¦™ä¸­å’Œç´…è‰è¾›æ¶¼ï¼Œå£æ„Ÿæ¥µå…¶åœ“æ½¤å…·æœ‰ç¦ªæ„ã€‚" },
            { zh: "ç¶œåˆè“å¯¦", en: "Mixed Berries", icon: "ğŸ“", color: "#ffafcc", stats: { æ¿ƒ: 2, ç”œ: 5, é…¸: 3, çˆ½: 3 }, recipe: "ç¶œåˆæ°´æœ 50% + ç™¾é¦™æœçŸ³æ¦´ 30% + å¸Œè‡˜å„ªæ ¼ 20%", tech: "ä¹³é…¸æ„Ÿèˆ‡ç†±å¸¶æœå¯¦çš„ç”œç¾ç¢°æ’ï¼Œç™¾æŠ½ä¸è†©ã€‚" },
            { zh: "ç´é…’å¤éœ²", en: "Gin Dew", icon: "ğŸ¥’", color: "#a2d2ff", stats: { æ¿ƒ: 3, ç”œ: 2, é…¸: 3, çˆ½: 5 }, recipe: "ç´é…’ 50% + è²»ç´„æœæª¸æª¬æ°´ 30% + ç´é…’å°é»ƒç“œ 20%", tech: "æ¥µè‡´æ¸…æ¶¼ï¼Œè²»ç´„æœçš„ç‰¹æ®Šé¦™æ°£è®“ç´é…’æ›´å…·éˆæ€§ã€‚" },
            { zh: "ç§‹æ—¥èŒ¶äº­", en: "Autumn Tea", icon: "ğŸµ", color: "#e9c46a", stats: { æ¿ƒ: 4, ç”œ: 3, é…¸: 1, çˆ½: 2 }, recipe: "ç´…èŒ¶ 50% + æ¡‚èŠ± 30% + ç”œè–¯ 20%", tech: "æº«æš–çš„èŒ¶é¦™ä¼´éš¨åœ°ç“œçš„é¦™ç”œæ„Ÿï¼Œé©åˆå¾®æ¶¼çš„ç§‹å¤œã€‚" },
            { zh: "åˆå¤œé›»è§£è³ª", en: "Midnight Fizz", icon: "âš¡", color: "#bde0fe", stats: { æ¿ƒ: 4, ç”œ: 2, é…¸: 5, çˆ½: 4 }, recipe: "æª¸æª¬èŠå§† 40% + æª¸æª¬ç³– 30% + Paan Ras 30%", tech: "å¼·åŠ›çš„é…¸åº¦èˆ‡æ¶¼æ„Ÿè¡æ“Šï¼Œæ·±å¤œæç¥é¦–é¸ã€‚" }
        ];

        // åˆå§‹åŒ–è¸è‰åœ–é‘‘
        darks.forEach(d => document.getElementById('inv-dark').innerHTML += `<div class="inv-item">${d}</div>`);
        jellies.forEach(j => document.getElementById('inv-jelly').innerHTML += `<div class="inv-item">${j}</div>`);

        function switchTab(t) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('menu-grid').style.display = (t==='menu')?'grid':'none';
            document.getElementById('inventory-list').style.display = (t==='inventory')?'block':'none';
        }

        const grid = document.getElementById('menu-grid');
        menu.forEach((r, i) => {
            grid.innerHTML += `
                <div class="card" onclick="openModal(${i})">
                    <div class="card-art">
                        <div class="watercolor" style="background:${r.color}"></div>
                        <div class="illustration">${r.icon}</div>
                        <div class="maru-seal">ä¸¸</div>
                    </div>
                    <div class="card-content">
                        <span class="en-name">${r.en}</span>
                        <h3 class="jp-name">${r.zh}</h3>
                        <table class="stat-table">
                            <tr><td>æ¿ƒ <span class="dots">${"â—".repeat(r.stats.æ¿ƒ)}</span></td><td>ç”œ <span class="dots">${"â—".repeat(r.stats.ç”œ)}</span></td></tr>
                            <tr><td>é…¸ <span class="dots">${"â—".repeat(r.stats.é…¸)}</span></td><td>çˆ½ <span class="dots">${"â—".repeat(r.stats.çˆ½)}</span></td></tr>
                        </table>
                    </div>
                </div>`;
        });

        let curPick = ""; let curRecipe = "";
        function openModal(i) {
            const r = menu[i]; curPick = r.zh; curRecipe = r.recipe;
            document.getElementById('m-title').innerText = r.zh;
            document.getElementById('m-recipe').innerHTML = "<strong>é…æ–¹æ¯”ä¾‹ï¼š</strong><br>" + r.recipe;
            document.getElementById('m-tech').innerText = "å°åœ“ç­†è¨˜ï¼š " + r.tech;
            document.getElementById('modal').style.display = 'flex';
        }
        function closeModal() { document.getElementById('modal').style.display = 'none'; }

        function confirmOrder() {
            const message = `ã€åœ“åœ“çš„å°å°ä¼‘æ†© é»å–®ã€‘\næˆ‘æƒ³é»ä¸€é‹ï¼š${curPick}\n---\né…æ–¹æ¯”ä¾‹ï¼š${curRecipe}\n---\n(ç”±å°åœ“ç…™è­œ App ç™¼é€)`;
            const lineUrl = `https://line.me/R/msg/text/?${encodeURIComponent(message)}`;
            if (confirm(`ç¢ºå®šä¸‹å–®ã€Œ${curPick}ã€ï¼Ÿ\næŒ‰ç¢ºå®šå°‡è‡ªå‹•è·³è½‰ LINE ç™¼é€çµ¦å°åœ“ï¼`)) {
                window.location.href = lineUrl;
            }
            closeModal();
        }
    </script>
</body>
</html>