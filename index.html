<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>圓－休憩所 - Maru's Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --ink: #3d3a38; --gold: #e6b422; 
            --sunset-top: #35495e; --sunset-mid: #f39c12; --sunset-bottom: #d35400;
        }
        body { 
            background: linear-gradient(to bottom, var(--sunset-top), var(--sunset-mid), var(--sunset-bottom));
            background-attachment: fixed; background-size: cover;
            font-family: "Noto Serif TC", serif; margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh;
        }
        /* 雲朵動畫 */
        .cloud-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .cloud { position: absolute; background: #fff; border-radius: 50px; opacity: 0.9; filter: blur(2px); animation: move 45s infinite linear; }
        .cloud::after, .cloud::before { content: ''; position: absolute; background: #fff; border-radius: 50%; }
        .cloud::after { width: 90px; height: 90px; top: -45px; left: 20px; }
        .cloud::before { width: 70px; height: 70px; top: -30px; right: 20px; }
        .c1 { width: 150px; height: 45px; top: 15%; left: -200px; }
        @keyframes move { from { transform: translateX(-10vw); } to { transform: translateX(110vw); } }

        header { text-align: center; margin: 50px 0; }
        h1 { color: #fff; letter-spacing: 0.5em; font-size: 2.2rem; margin: 0; }
        .eng-title { color: rgba(255,255,255,0.7); font-size: 0.75rem; letter-spacing: 0.3em; margin-top: 10px; }

        .main-container { width: 90%; max-width: 500px; background: rgba(255,255,255,0.92); backdrop-filter: blur(10px); border-radius: 40px; padding: 35px 20px; margin-bottom: 50px; }
        
        /* 列表樣式 */
        .menu-list { display: flex; flex-direction: column; gap: 20px; }
        .card { background: #fff; border-radius: 25px; padding: 25px; position: relative; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .card-illustration { position: absolute; right: 20px; top: 20px; width: 60px; height: 60px; }
        .card-illustration img { width: 100%; height: auto; }
        .card-eng { font-size: 0.7rem; color: #bbb; text-transform: uppercase; margin-bottom: 5px; }
        .card-title { font-size: 1.4rem; font-weight: 600; color: var(--ink); margin-bottom: 15px; }

        /* 風味指標點點 */
        .flavor-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; border-top: 1px dashed #eee; padding-top: 15px; }
        .stat-row { display: flex; align-items: center; font-size: 0.8rem; color: #777; }
        .dots { display: flex; gap: 3px; margin-left: 8px; }
        .dot { width: 8px; height: 8px; border-radius: 50%; background: #eee; }
        .dot.active { background: var(--gold); }

        /* 彈窗 */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: #fff; padding: 35px; width: 80%; max-width: 400px; border-radius: 35px; text-align: center; }
        .m-intro { color: #888; font-style: italic; margin: 15px 0 25px; font-size: 0.9rem; }
        .m-recipe { background: #fdfaf5; padding: 20px; border-radius: 20px; text-align: left; font-size: 0.9rem; }
        .order-btn { background: var(--sunset-bottom); color: #fff; border: none; padding: 15px; width: 100%; border-radius: 50px; font-weight: 600; margin-top: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="cloud-container"><div class="cloud c1"></div></div>
    <header><h1>圓－休憩所</h1><div class="eng-title">MARU'S SHISHA STUDIO</div></header>
    <div class="main-container">
        <div class="menu-list" id="menu-container"></div>
    </div>

    <div id="modal" class="modal" onclick="if(event.target==this)closeModal()">
        <div class="modal-content">
            <h2 id="m-title"></h2>
            <div id="m-intro" class="m-intro"></div>
            <div class="m-recipe" id="m-recipe"></div>
            <button class="order-btn" onclick="confirmOrder()">發送 Line 訂單</button>
        </div>
    </div>

    <script>
        // 完整的數據庫，包含所有消失的口味
        const menuData = [
            { zh: "秋日茶亭", en: "Autumn Tea", img: "tea.png", intro: "暖陽下的焙茶香氣，伴隨微甜的秋意。", recipe: "焙茶 50% + 鮮奶 30% + 黑糖 20%", stats: {濃:4, 甜:3, 酸:1, 爽:2} },
            { zh: "午夜電解質", en: "Midnight Fizz", img: "fizz.png", intro: "深夜裡的一抹清爽，補給靈魂的電力。", recipe: "寶礦力 40% + 檸檬 30% + 蘇打 30%", stats: {濃:4, 甜:2, 酸:5, 爽:4} },
            { zh: "翠玉初戀", en: "Jade First Love", img: "jade.png", intro: "青澀的果香，如同初次見面時的怦然心動。", recipe: "費約果 40% + 檸檬萊姆 30% + 百香果 30%", stats: {濃:3, 甜:2, 酸:4, 爽:5} },
            { zh: "小圓雲煙", en: "Maru's Fluffy", img: "fluffy.png", intro: "像是在雲朵上打滾，軟綿綿的優格甜味。", recipe: "優格 40% + 甜薯 30% + 綜合水果 30%", stats: {濃:4, 甜:4, 酸:1, 爽:2} },
            { zh: "烏薩奇之光", en: "Usagi Light", img: "usagi.png", intro: "明亮的桂花茶香，照亮寂靜的夜晚。", recipe: "桂花 50% + 茉莉 30% + 紅茶 20%", stats: {濃:2, 甜:3, 酸:1, 爽:4} },
            { zh: "莫斯科紳士", en: "Moscow Gent", img: "gent.png", intro: "琴酒與小黃瓜的冷靜交織，優雅且深沉。", recipe: "琴酒小黃瓜 50% + 琴酒 30% + 檸檬萊姆 20%", stats: {濃:3, 甜:1, 酸:3, 爽:5} }
        ];

        function createDots(score) {
            let h = ''; for(let i=1; i<=5; i++) h += `<div class="dot ${i<=score?'active':''}"></div>`; return h;
        }

        const container = document.getElementById('menu-container');
        menuData.forEach((r, i) => {
            container.innerHTML += `
                <div class="card" onclick="openModal(${i})">
                    <div class="card-illustration"><img src="${r.img}" alt=""></div>
                    <div class="card-eng">${r.en}</div>
                    <div class="card-title">${r.zh}</div>
                    <div class="flavor-stats">
                        <div class="stat-row">濃 ${createDots(r.stats.濃)}</div>
                        <div class="stat-row">甜 ${createDots(r.stats.甜)}</div>
                        <div class="stat-row">酸 ${createDots(r.stats.酸)}</div>
                        <div class="stat-row">爽 ${createDots(r.stats.爽)}</div>
                    </div>
                </div>`;
        });

        let curPick = "", curRecipe = "";
        function openModal(i) {
            const d = menuData[i]; curPick = d.zh; curRecipe = d.recipe;
            document.getElementById('m-title').innerText = d.zh;
            document.getElementById('m-intro').innerText = `「${d.intro}」`;
            document.getElementById('m-recipe').innerHTML = `<strong>建議配方：</strong><br>${d.recipe}`;
            document.getElementById('modal').style.display = 'flex';
        }
        function closeModal() { document.getElementById('modal').style.display = 'none'; }
        function confirmOrder() {
            const msg = `【圓－休憩所】點購：${curPick}\n配方：${curRecipe}`;
            window.location.href = `https://line.me/R/msg/text/?${encodeURIComponent(msg)}`;
        }
    </script>
</body>
</html>
